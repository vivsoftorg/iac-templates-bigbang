istiod:
  # -- Toggle deployment of istiod
  enabled: true
  # -- Choose source type of "git" or "helmRepo"
  sourceType: "helmRepo"
  git:
    repo: https://repo1.dso.mil/big-bang/product/packages/istiod.git
    path: "./chart"
    tag: 1.26.3-bb.0
  helmRepo:
    repoName: "registry1"
    chartName: "istiod"
    tag: 1.26.3-bb.0
  # -- Values to passthrough to the istiod chart
  values: {}
  # EXAMPLE: Use Tetrate's Enterprise FIPS compliant Istio image
  #   upstream:
  #     global:
  #       hub: registry1.dso.mil/ironbank/tetrate/istio

  # -- Flux reconciliation overrides specifically for the Istio Core Package
  flux:
    driftDetection:
      mode: warn
      ignore:
        - paths: ["/webhooks/0/failurePolicy"] # this field is managed by istiod directly
          target:
            kind: ValidatingWebhookConfiguration
            name: istio-validator-istio-system
        - paths: [""]
          target:
            kind: Job
        - paths: [""]
          target:
            kind: StatefulSet
  # -- Post Renderers.  See docs/postrenders.md
  postRenderers: []
